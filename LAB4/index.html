<!DOCTYPE html>
<html>
    <head>
        <meta charset = "utf-8">
        <title> 메인페이지 </title>
        <link rel = "stylesheet" type = "text/css" href = "main.css">
        <link href = "https://fonts.googleapis.com/css2?family=Quicksand:wght@700&display=swap" rel="stylesheet">
        <link href = "https://fonts.googleapis.com/css2?family=Poor+Story&display=swap" rel="stylesheet">
        <link href = "https://fonts.googleapis.com/css2?family=Black+Han+Sans&display=swap" rel="stylesheet">
    </head>

    <body>
        <div class = mainpage>
            <div class = mainpagetitle>
                <h1>
                    Hello! Welcome to IP SHOP!
                </h1>
            </div>
            <br>
            <a href = index.html class = "button1">메인페이지</a> <a href = login.html class = "button1">로그인</a> <a href = signup.html class = "button2">회원가입</a>
            <br>
            <br>
            <div class = Descriptiontitle>
                <h1>
                    IP SHOP - always open for electronic device users
                </h1>
            </div>
            <br>
            <section class = "description">
                Hello! This is an internet-programming shop made for electronic device users. We sell electronic devices, such as iPads and more.
                Purchases can only be made online. Hello! This is an internet-programming shop made for electronic device users. We sell electronic devices, such as iPads and more.
                Purchases can only be made online. Hello! This is an internet-programming shop made for electronic device users. We sell electronic devices, such as iPads and more.
                Purchases can only be made online. Hello! This is an internet-programming shop made for electronic device users. We sell electronic devices, such as iPads and more.
                Purchases can only be made online. Hello! This is an internet-programming shop made for electronic device users. We sell electronic devices, such as iPads and more.
                Purchases can only be made online. Hello! This is an internet-programming shop made for electronic device users. We sell electronic devices, such as iPads and more.
                Purchases can only be made online. Hello! This is an internet-programming shop made for electronic device users. We sell electronic devices, such as iPads and more.
                Purchases can only be made online. Hello! This is an internet-programming shop made for electronic device users. We sell electronic devices, such as iPads and more.
                Purchases can only be made online. Hello! This is an internet-programming shop made for electronic device users. We sell electronic devices, such as iPads and more.
                Purchases can only be made online. Hello! This is an internet-programming shop made for electronic device users. We sell electronic devices, such as iPads and more.
                Purchases can only be made online. 
            </section>
            <br>
            <div>
                <aside>
                    <form>
                        <div>
                            <label for = "category"> Choose a category:</label>
                            <select id = "category">
                                <option selected>All</option>
                                <option>iPad</option>
                                <option>Galaxy Book</option>
                            </select>
                        </div>
                        <div>
                            <label for = "searchTerm">Enter search term:</label>
                            <input type = "text" id = "searchTerm" placeholder = "e.g. iPad">
                        </div>
                        <div>
                            <button>Filter results</button>
                        </div>
                    </form>
                </aside>
                <br>
                <main id = "item" class = items onclick = "whenclicked()"></main> 
                <p id = "itemdescrip"></p>
                      
            </div>
            <br>
            <br>
        </div>
        <br>
        <br>

        <script>

            document.addEventListener('DOMContentLoaded', load)

            window.onscroll = () => {
                if (window.innerHeight + window.scrollY >= document.body.offsetHeight){
                    load();
                }
            };
            function load(){
                fetch("./product.json")
                .then((response) => response.json())
                .then((data) => data.forEach(getData));
            }
            function getData(data){
                
                    let getImg = data.img;
                    let item = document.getElementById("item");
                    let img  = document.createElement("img");
                    let src  = img.setAttribute("src",getImg );
                    let id = img.setAttribute("id", data.id);
                
                    console.log(data.img , img);
                    item.append(img);
            }

            function whenclicked(){
                wantedid = this.getAttribute("id");
                fetch ("./product.json")
                .then((response) => response.json())
                .then(description => {
                const howmuch = description[wantedid-1].price;
                const nameofdevice = description[wantedid-1].name;
                document.getElementByID("itemdescrip").innerHTML = nameofdevice + " " + howmuch + "KRW"}
                )
            }
            

         
        </script>
    </body>
</html>